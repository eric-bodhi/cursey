void Cursey::render_file(const Cursor& cursor, const TextBuffer& buffer,
                         std::size_t view_offset) {
    wclear(main_win);
    wclear(line_win);
    // Render visible lines
    for (std::size_t i = 0; i < max_row - 1; i++) {
        if (i + view_offset >= buffer.lineCount())
            break;

        const std::string line = buffer.getLine(i + view_offset);
        const std::string lineNumber = std::to_string(i);
        mvwaddstr(line_win, i, 3 - lineNumber.size(), lineNumber.c_str());
        mvwaddnstr(main_win, i, 0, line.c_str(), max_col);
    }

    render_tool_line(cursor);

    // Move physical cursor
    wmove(main_win, cursor.row - view_offset, cursor.col);
    wrefresh(line_win);
    wrefresh(main_win);
}
